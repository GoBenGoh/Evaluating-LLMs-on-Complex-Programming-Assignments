{  "id": "chatcmpl-7iY3a0lw96HXVCFlb0w0e6gmIkib5",  "object": "chat.completion",  "created": 1690851702,  "model": "gpt-3.5-turbo-16k-0613",  "choices": [    {      "index": 0,      "message": {        "role": "assistant",        "content": "```java\r\npackage nz.ac.auckland.se281;\r\n\r\nimport nz.ac.auckland.se281.Main.PolicyType;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class InsuranceSystem {\r\n    \r\n    private List<Profile> database;\r\n    \r\n    public InsuranceSystem() {\r\n        database = new ArrayList<>();\r\n    }\r\n\r\n    public void printDatabase() {\r\n        if (database.isEmpty()) {\r\n            MessageCli.PRINT_DB_POLICY_COUNT.printMessage(\"0\", \"s\", \".\");\r\n        } else if (database.size() == 1) {\r\n            MessageCli.PRINT_DB_POLICY_COUNT.printMessage(\"1\", \"\", \":\");\r\n            printProfile(database.get(0), 1);\r\n        } else {\r\n            MessageCli.PRINT_DB_POLICY_COUNT.printMessage(Integer.toString(database.size()), \"s\", \":\");\r\n            for (int i = 0; i < database.size(); i++) {\r\n                printProfile(database.get(i), i + 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    public void createNewProfile(String userName, String age) {\r\n        userName = toTitleCase(userName);\r\n        int ageInt;\r\n        try {\r\n            ageInt = Integer.parseInt(age);\r\n            if (userName.length() < 3) {\r\n                MessageCli.INVALID_USERNAME_TOO_SHORT.printMessage(userName);\r\n            } else if (!isUnique(userName)) {\r\n                MessageCli.INVALID_USERNAME_NOT_UNIQUE.printMessage(userName);\r\n            } else if (ageInt < 1) {\r\n                MessageCli.INVALID_AGE.printMessage(age, userName);\r\n            } else {\r\n                Profile newProfile = new Profile(userName, ageInt);\r\n                database.add(newProfile);\r\n                MessageCli.PROFILE_CREATED.printMessage(userName, age);\r\n            }\r\n        } catch (NumberFormatException e) {\r\n            MessageCli.INVALID_AGE.printMessage(age, userName);\r\n        }\r\n    }\r\n\r\n    public void loadProfile(String userName) {\r\n        userName = toTitleCase(userName);\r\n        for (Profile profile : database) {\r\n            if (profile.getUserName().equals(userName)) {\r\n                MessageCli.PROFILE_LOADED.printMessage(userName);\r\n                return;\r\n            }\r\n        }\r\n        MessageCli.NO_PROFILE_FOUND_TO_LOAD.printMessage(userName);\r\n    }\r\n\r\n    public void unloadProfile() {\r\n        MessageCli.PROFILE_UNLOADED.printMessage(\"\");\r\n    }\r\n\r\n    public void deleteProfile(String userName) {\r\n        userName = toTitleCase(userName);\r\n        for (Profile profile : database) {\r\n            if (profile.getUserName().equals(userName)) {\r\n                database.remove(profile);\r\n                MessageCli.PROFILE_DELETED.printMessage(userName);\r\n                return;\r\n            }\r\n        }\r\n        MessageCli.NO_PROFILE_FOUND_TO_DELETE.printMessage(userName);\r\n    }\r\n\r\n    public void createPolicy(PolicyType type, String[] options) {\r\n        // TODO: Complete this method.\r\n    }\r\n    \r\n    private String toTitleCase(String word) {\r\n        String[] words = word.split(\" \");\r\n        StringBuilder result = new StringBuilder();\r\n        for (int i = 0; i < words.length; i++) {\r\n            String firstLetter = words[i].substring(0, 1);\r\n            String restOfWord = words[i].substring(1);\r\n            result.append(firstLetter.toUpperCase()).append(restOfWord.toLowerCase());\r\n            if (i < words.length - 1) {\r\n                result.append(\" \");\r\n            }\r\n        }\r\n        return result.toString();\r\n    }\r\n    \r\n    private boolean isUnique(String userName) {\r\n        for (Profile profile : database) {\r\n            if (profile.getUserName().equals(userName)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    \r\n    private void printProfile(Profile profile, int rank) {\r\n        MessageCli.PRINT_DB_PROFILE_HEADER_MINIMAL.printMessage(Integer.toString(rank), profile.getUserName(),\r\n                Integer.toString(profile.getAge()));\r\n    }\r\n}\r\n```"      },      "finish_reason": "stop"    }  ],  "usage": {    "prompt_tokens": 6931,    "completion_tokens": 740,    "total_tokens": 7671  }}
