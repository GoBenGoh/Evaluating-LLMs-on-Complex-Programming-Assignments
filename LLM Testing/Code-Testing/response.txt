{  "id": "chatcmpl-7VX3hOaVaDmEe4LvobyqSQzmdRRlX",  "object": "chat.completion",  "created": 1687749601,  "model": "gpt-3.5-turbo-16k-0613",  "choices": [    {      "index": 0,      "message": {        "role": "assistant",        "content": "package nz.ac.auckland.se281;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class InsuranceSystem {\n    private List<Profile> database;\n\n    public InsuranceSystem() {\n        this.database = new ArrayList<>();\n    }\n\n    public void printDatabase() {\n        if (database.isEmpty()) {\n            MessageCli.PRINT_DB_POLICY_COUNT.printMessage(\"0\", \"s\", \".\");\n        } else if (database.size() == 1) {\n            printSingleProfileDatabase();\n        } else {\n            printMultiProfileDatabase();\n        }\n    }\n\n    public void createProfile(String userName, String age) {\n        if (isInvalidUsername(userName)) {\n            MessageCli.INVALID_USERNAME_TOO_SHORT.printMessage(userName);\n        } else if (isDuplicateUsername(userName)) {\n            MessageCli.INVALID_USERNAME_NOT_UNIQUE.printMessage(userName);\n        } else if (isInvalidAge(age)) {\n            MessageCli.INVALID_AGE.printMessage(age, toTitleCase(userName));\n        } else {\n            int ageValue = Integer.parseInt(age);\n            Profile newProfile = new Profile(toTitleCase(userName), ageValue);\n            database.add(newProfile);\n            MessageCli.PROFILE_CREATED.printMessage(toTitleCase(userName), String.valueOf(ageValue));\n        }\n    }\n\n    public void printDB() {\n        if (database.isEmpty()) {\n            MessageCli.PRINT_DB_POLICY_COUNT.printMessage(\"0\", \"s\", \".\");\n        } else if (database.size() == 1) {\n            printSingleProfileDB();\n        } else {\n            printMultiProfileDB();\n        }\n    }\n\n    private boolean isInvalidUsername(String userName) {\n        return userName.length() < 3;\n    }\n\n    private boolean isDuplicateUsername(String userName) {\n        return database.stream().anyMatch(profile -> profile.getUserName().equalsIgnoreCase(userName));\n    }\n\n    private boolean isInvalidAge(String age) {\n        try {\n            int ageValue = Integer.parseInt(age);\n            return ageValue <= 0;\n        } catch (NumberFormatException e) {\n            return true;\n        }\n    }\n\n    private String toTitleCase(String text) {\n        String[] words = text.split(\" \");\n        StringBuilder result = new StringBuilder();\n        for (String word : words) {\n            result.append(Character.toUpperCase(word.charAt(0))).append(word.substring(1).toLowerCase()).append(\" \");\n        }\n        return result.toString().trim();\n    }\n\n    private void printSingleProfileDatabase() {\n        Profile profile = database.get(0);\n        MessageCli.PRINT_DB_POLICY_COUNT.printMessage(\"1\", \"profile\", \":\");\n        System.out.println(\" \" + (database.indexOf(profile) + 1) + \": \" + profile.getUserName() + \", \" + profile.getAge());\n    }\n\n    private void printMultiProfileDatabase() {\n        int profileCount = database.size();\n        MessageCli.PRINT_DB_POLICY_COUNT.printMessage(String.valueOf(profileCount), \"s\", \":\");\n        for (int i = 0; i < profileCount; i++) {\n            Profile profile = database.get(i);\n            System.out.println(\" \" + (database.indexOf(profile) + 1) + \": \" + profile.getUserName() + \", \" + profile.getAge());\n        }\n    }\n\n    private class Profile {\n        private String userName;\n        private int age;\n\n        public Profile(String userName, int age) {\n            this.userName = userName;\n            this.age = age;\n        }\n\n        public String getUserName() {\n            return userName;\n        }\n\n        public int getAge() {\n            return age;\n        }\n    }\n}"      },      "finish_reason": "stop"    }  ],  "usage": {    "prompt_tokens": 2153,    "completion_tokens": 705,    "total_tokens": 2858  }}
